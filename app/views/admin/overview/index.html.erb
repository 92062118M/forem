<%= javascript_packs_with_chunks_tag "admin/overview", defer: true %>

<h1 class="crayons-title mb-4">
  Overview
</h1>

<div class="flex flex-col gap-4">
  <div class="flex flex-col m:flex-row gap-4">
    <section class="crayons-card p-7 m:basis-2-3">
      <header class="flex justify-between items-center mb-7">
        <h2 class="crayons-subtitle-1">Analytics and trends</h2>
        <select class="crayons-select w-auto">
          <option value="7">Last 7 days</option>
          <option value="14">Last 14 days</option>
          <option value="30">Last 30 days</option>
        </select>
      </header>

      <div class="grid s:grid-cols-2 gap-7">
        <div>
          <header class="color-secondary">
            <h3 class="fs-l fw-normal"><span class="color-primary fw-bold">18</span> posts</h3>
            <p class="flex items-center fs-s mb-1">
              <%= crayons_icon_tag(:increase, width: 18, height: 18, class: "color-accent-success") %>
              17% increase
            </p>
          </header>
          <canvas id="postsChart" width="400" height="100" class="-mx-1"></canvas>
          <footer class="flex justify-between items-center fs-xs color-secondary">
            <span>Mar 21</span>
            <span>Today</span>
          </footer>
        </div>

        <div>
          <header class="color-secondary">
            <h3 class="fs-l fw-normal"><span class="color-primary fw-bold">411</span> comments</h3>
            <p class="flex items-center fs-s mb-1">
              <%= crayons_icon_tag(:increase, width: 18, height: 18, class: "color-accent-success") %>
              211% increase
            </p>
          </header>
          <canvas id="commentsChart" width="400" height="100" class="-mx-1"></canvas>
          <footer class="flex justify-between items-center fs-xs color-secondary">
            <span>Mar 21</span>
            <span>Today</span>
          </footer>
        </div>

        <div>
          <header class="color-secondary">
            <h3 class="fs-l fw-normal"><span class="color-primary fw-bold">1.7k</span> reactions</h3>
            <p class="flex items-center fs-s mb-1">
              <%= crayons_icon_tag(:decrease, width: 18, height: 18, class: "color-accent-danger") %>
              31% decrease
            </p>
          </header>
          <canvas id="reactionsChart" width="400" height="100" class="-mx-1"></canvas>
          <footer class="flex justify-between items-center fs-xs color-secondary">
            <span>Mar 21</span>
            <span>Today</span>
          </footer>
        </div>

        <div>
          <header class="color-secondary">
            <h3 class="fs-l fw-normal"><span class="color-primary fw-bold">11</span> new members</h3>
            <p class="flex items-center fs-s mb-1">
              <%= crayons_icon_tag(:increase, width: 18, height: 18, class: "color-accent-success") %>
              2% increase
            </p>
          </header>
          <canvas id="newMembersChart" width="400" height="100" class="-mx-1"></canvas>
          <footer class="flex justify-between items-center fs-xs color-secondary">
            <span>Mar 21</span>
            <span>Today</span>
          </footer>
        </div>
      </div>
    </section>

    <section class="crayons-card p-7 m:basis-1-3">
      <h2 class="crayons-subtitle-1 mb-4">Health check</h2>

      <a href="/" class="flex flex-col c-link c-link--block -mx-4">
        <strong class="fs-xl">18</strong>
        <span>Flags raised by <span class="fw-bold">Moderators</span></span>
        <small class="opacity-75">3 articles, 5 coomments, 10 users</small>
      </a>

      <a href="/" class="flex flex-col c-link c-link--block -mx-4">
        <strong class="fs-xl">11</strong>
        <span>Reports submitted by <span class="fw-bold">Users</span></span>
        <small class="opacity-75">3 articles, 5 coomments, 10 users</small>
      </a>

      <a href="/" class="flex flex-col c-link c-link--block -mx-4">
        <strong class="fs-xl">5</strong>
        <span>Potential spam/abuse users</span>
      </a>

    </section>
  </div>

  <section class="crayons-card p-7 grid grid-cols-2 gap-7">
    <div>
      <header class="mb-4">
        <h2 class="crayons-subtitle-1">Help</h2>
        <p class="color-secondary">Here are a few things we recommend doing now that you're using Forem!</p>
      </header>

      <ol>
        <li class="mb-1 -ml-4">
          Fully review the
          <a href="https://admin.forem.com" class="c-link c-link--branded">Forem Admin Documentation</a>
          and the latest Forem
          <a href="https://admin.forem.com/docs/getting-started/forem-setup-checklist" class="c-link c-link--branded">Quick Start Guide</a>
        </li>
        <li class="mb-1 -ml-4">
          Set up and configure your Forem
          under <%= link_to "the Config section", admin_config_path, class: "c-link c-link--branded" %>.
        </li>
        <li class="mb-1 -ml-4"><%= link_to "Create a Welcome Thread", admin_welcome_index_path, class: "c-link c-link--branded" %></li>
        <li class="mb-1 -ml-4"><%= link_to "Update and customize your Forem tags", admin_tags_path, class: "c-link c-link--branded" %></li>
        <li class="mb-1 -ml-4">
          <%= link_to "Create pages", admin_pages_path, class: "c-link c-link--branded" %>
          and
          <%= link_to "sort them in the navigation sidebar", admin_navigation_links_path %>.
        </li>
        <li class="mb-1 -ml-4">
          <a href="https://admin.forem.com/docs/advanced-customization/config/authentication" class="c-link c-link--branded">Set your Forem's access level</a>
          and
          <a href="https://admin.forem.com/docs/advanced-customization/config/smtp-settings" class="c-link c-link--branded">email settings</a>.
        </li>
      </ol>
    </div>

    <div>
      <div class="mb-7">
        <h2 class="crayons-subtitle-1">Forem Admin Guide</h2>
        <p class="color-secondary mb-4">This guide gives you the best practices on how you can manage and grow your community on Forem.</p>
        <a href="https://admin.forem.com" target="_blank" class="c-cta">Visit Forem Admin Guide &raquo;</a>
      </div>

      <div>
        <h2 class="crayons-subtitle-1">Forem.dev</h2>
        <p class="color-secondary mb-4">Meet other creators using Forem so that you can share tips with each other.</p>
        <a href="https://forem.dev" target="_blank" class="c-cta">Join Forem.dev Community &raquo;</a>
      </div>
    </div>
  </section>

  <section class="crayons-card p-7">
    <h2 class="crayons-subtitle-1 mb-6">Deployment</h2>

    <div class="grid grid-cols-2 gap-7">
      <div>
        <strong class="color-secondary mr-2">Last deploy</strong>
        <%= ForemInstance.deployed_at %>
      </div>

      <div>
        <strong class="color-secondary mr-2">Latest Commit ID</strong>
        <%= ForemInstance.latest_commit_id || "Not Available" %>
      </div>
    </div>
  </section>
</div>

<% if false %>
<div class="px-0 crayons-layout crayons-layout--2-cols crayons-layout--2-cols--1-2 crayons-layout--2-cols--inverted">
  <article class="crayons-layout__content">
    <section class="crayons-card mb-4">

    <h2 class="crayons-subtitle-1 mb-3">Analytics</h2>
    <article class="grid s:grid-cols-2 gap-3 mb-4" data-controller="ahoy">
      <section class="crayons-card">
        <div class="crayons-card__body">
          <h2 class="crayons-title"><%= @open_abuse_reports_count %></h2>
          <p class="crayons-subtitle-4 color-base-70">
            <a href=<%= admin_feedback_messages_path %>>
              <%= "Open report".pluralize(@open_abuse_reports_count) %>
            </a>
          </p>
        </div>
      </section>
    </article>
  </article>
</div>
<% end %>
